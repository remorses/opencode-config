{
  // Enable or disable the plugin
  "$schema": "https://raw.githubusercontent.com/remorses/opencode-dynamic-context-pruning/schema/lib/schema.json",
  "enabled": true,

  // Enable debug logging to ~/.config/opencode/logs/dcp/
  "debug": false,
  // Show toast notifications when a new version is available
  "showUpdateToasts": false,
  // Notification display: "off", "minimal", or "detailed"
  "pruneNotification": "off",
  // Protect from pruning for <turns> message turns
  "turnProtection": {
    "enabled": false,
    "turns": 1,
  },
  // LLM-driven context pruning tools
  "tools": {
    "settings": {
      "nudgeEnabled": false,
      "nudgeFrequency": 10,
      "protectedTools": [],
    },
    "discard": {
      "enabled": false,

    },
    "extract": {
      "enabled": false,
      "showDistillation": false,
    },
  },
  // Automatic pruning strategies
  "strategies": {
    // Remove duplicate tool calls (same tool with same arguments)
    "deduplication": {
      "enabled": true,
      "protectedTools": [],
    },
    // Prune write tool inputs when the file has been subsequently read
    "supersedeWrites": {
      "enabled": true,
    },
    // Prune tool inputs for errored tools after X turns
    "purgeErrors": {
      "enabled": true,
      "turns": 4,
      "protectedTools": [],
    },

  },
}
