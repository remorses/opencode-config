{
  "$schema": "https://opencode.ai/config.json",
  "theme": "opencode",

  // "layout": "stretch",
  // "small_model": "claudecode/haiku",
  // "model": "google/gemini-3-flash-preview",
  // "model": "anthropic/claude-opus-4-5",
  "tui": { "scroll_speed": 6, "scroll_acceleration": { "enabled": true } },
  "lsp": false,

  // "mode": {
  //   "build": {
  //     "prompt": "You are Claude Code, Anthropic's official CLI for Claude."
  //   },
  //   "plan": {
  //     "prompt": "You are Claude Code, Anthropic's official CLI for Claude."
  //   }
  // },
  "provider": {
    "opencode": {
      "models": {
        "glm-4.6": {
          "options": {
            "reasoning": {
              "enabled": true
            }
          }
        }
      }
    },

    // "claudecode": {
    //   "npm": "file:///Users/morse/Documents/GitHub/ai-sdk-provider-claude-code/src/claude-code-provider.ts",

    //   "name": "Claude Code SDK",
    //   "options": {

    //     // "baseURL": "https://api.myprovider.com/v1",
    //     // "apiKey": "{env:ANTHROPIC_API_KEY}",
    //     // "headers": {
    //     //   "Authorization": "Bearer custom-token"
    //     // }
    //   },
    //   "models": {
    //     "opus": {
    //       "name": "Claude Code Opus",
    //       "limit": {
    //         "context": 200000,
    //         "output": 65536
    //       }
    //     },
    //     "haiku": {
    //       "name": "Claude Code Haiku",
    //       "limit": {
    //         "context": 200000,
    //         "output": 65536
    //       }
    //     },
    //   }
    // },

    "anthropic": {
      "name": "Anthropic",
      "models": {
        "claude-sonnet-4-6": {
          // "options": {
          //   "thinking": {
          //     "type": "enabled",
          //     "budgetTokens": 16000
          //   }
          // }
        },
        "claude-opus-4-6": {
          "limit": {
            "context": 270000,
            "output": 128000
          },
          "options": {
            "thinking": {
              "type": "enabled",
              "budgetTokens": 30000
            }
          }
        },
        "claude-opus-4-5": {
          "options": {
            "thinking": {
              "type": "enabled",
              "budgetTokens": 16000
            }
          }
        },
        "claude-opus-4-1": {
          "options": {
            "thinking": {
              "type": "enabled",
              "budgetTokens": 16000
            }
          }
        },
        "claude-opus-4-0": {
          "options": {
            "thinking": {
              "type": "enabled",
              "budgetTokens": 16000
              // "budgetTokens": 16000
            }
          }
        }
      }
    }
  },
  "plugin": [
    "/Users/morse/kimaki/mappamundi/opencode/src/index.ts",
    "/Users/morse/.config/opencode/plugins/anthropic-auth.ts"
    // "/Users/morse/Documents/GitHub/opencode-anthropic-auth/index.mjs",
    // "@tarquinen/opencode-dcp", SHIT. breaks claude rules of thinking
    // "/Users/morse/kimaki/codex-multi-auth/index.ts", SHIT. breaks everything. codex 5.3 does not work.probably uses the API for some reason! spent a lot of money on API for no reason
    // "oc-chatgpt-multi-auth@latest", SHIT. does not even work
    // "opencode-google-antigravity-auth" https://github.com/shekohex/opencode-google-antigravity-auth/issues/39
  ],
  "mcp": {
    // "playwriter": {
    //   "type": "local",
    //   "command": [
    //     "tsx",
    //     "/Users/morse/Documents/GitHub/playwriter/playwriter/src/cli.ts"
    //   ],
    //   "environment": {
    //     "PLAYWRITER_LOG_FILE_PATH": "/Users/morse/.config/opencode/playwriter.log",
    //     "PLAYWRITER_NODE_ENV": "development",
    //     "PLAYWRITER_AUTO_ENABLE": "1"
    //   }
    // }
  },

  "formatter": false,

  "permission": {
    "edit": "allow",
    "bash": "allow",
    "external_directory": {
      "*": "ask",
      "/tmp": "allow",
      "/tmp/*": "allow",
      "/private/var/folders/8w/*": "allow",
      "/private/var/folders/8w": "allow",
      "/Users/morse/.playwriter/*": "allow",
      "/private/tmp": "allow",
      "/private/tmp/*": "allow",
      "env:$TMPDIR": "allow",
      "env:$TMPDIR/*": "allow"
    },
    "webfetch": "allow"
    // "external_directory": "allow",
    // "doom_loop": "allow",
    // "external_directory": "allow"
  },

  "experimental": {
    "disable_paste_summary": true
  },
  "agent": {
    "explore": {
      "model": "anthropic/claude-sonnet-4-6",
      "permission": {
        "*": "deny",
        "grep": "allow",
        "glob": "allow",
        "list": "allow",
        "read": {
          "*": "allow",
          "*.env": "deny",
          "*.env.*": "deny",
          "*.env.example": "allow"
        },
        "webfetch": "allow",
        "websearch": "allow",
        "codesearch": "allow",
        "external_directory": {
          "*": "ask"
        }
      }
    },
    "oracle": {
      "mode": "subagent",
      "model": "openai/gpt-5.3-codex",
      "prompt": "{file:./agent/oracle.md}"
    }
    // "plan": {
    //   "mode": "primary",
    //   "prompt": "{file:./prompts/PLAN.md}",

    //   "permission": {
    //     "edit": "deny",
    //     "bash": "allow"
    //   }
    // }
  }
}
